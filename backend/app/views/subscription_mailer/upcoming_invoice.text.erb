Upcoming Invoice - Payment Due Soon

Dear <%= @customer.name %>,

This is a friendly reminder that your next invoice is due soon.

Invoice Preview:
- Invoice Number: <%= @invoice.invoice_number %>
- Subscription: <%= @subscription.reference_number %>
- Plan: <%= @subscription.plan_name %>
- Amount: KES <%= @invoice.amount %>
- Due Date: <%= @invoice.due_date.strftime('%B %d, %Y') %>
- Days Until Due: <%= (@invoice.due_date - Date.current).to_i %> days

Line Items:
<% if @invoice.line_items.present? %>
<% @invoice.line_items.each do |item| %>
- <%= item['description'] %>: <%= item['quantity'] %> x KES <%= item['unit_price'] %> = KES <%= item['amount'] %>
<% end %>
<% else %>
- <%= @subscription.plan_name %>: KES <%= @invoice.amount %>
<% end %>

Total: KES <%= @invoice.amount %>

Payment is due on <%= @invoice.due_date.strftime('%B %d, %Y') %>.

<% if @subscription.preferred_payment_method == 'ratiba' %>
Your payment will be automatically processed via your standing order (Ratiba) on the due date.
<% else %>
Please ensure your payment method is up to date. You can update your payment method or make a payment through your dashboard.
<% end %>

If you have any questions or need assistance, please contact our support team.

Thank you for your continued business!

